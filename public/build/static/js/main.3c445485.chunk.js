(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{263:function(e,a,t){e.exports=t(434)},268:function(e,a,t){},269:function(e,a,t){},355:function(e,a,t){},429:function(e,a,t){},433:function(e,a,t){},434:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(62),o=t.n(r),i=t(445),s=t(251),m=t(55),c={id:"",path:"/"},u=t(39),d=Object(u.a)(),p=t(48),h=t(49),g=t(51),f=t(50),y=t(52),E=(t(268),function(e){function a(){return Object(p.a)(this,a),Object(g.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(y.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"app"},l.a.createElement("header",{className:"app-header"}),l.a.createElement("main",null,this.props.children))}}]),a}(l.a.PureComponent)),b=t(446),C=(t(269),function(e){function a(){return Object(p.a)(this,a),Object(g.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(y.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"not-found-page"},l.a.createElement(b.a,{as:"h1"},"Page not found"))}}]),a}(l.a.PureComponent)),v=t(67),O=t.n(v),j=t(126),N=t(120),w=t(127),k=t(27),S=t(169),B=t(442),L=t(440),$=t(443),M=t(444),x=t(66),R=t(129),q=t(441),D=(t(355),function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(g.a)(this,Object(f.a)(a).call(this,e))).handleChangeDropdown=t.handleChangeDropdown.bind(Object(k.a)(t)),t}return Object(y.a)(a,e),Object(h.a)(a,[{key:"handleChangeDropdown",value:function(e,a){this.props.onChangeForm({target:{name:"languages",value:a.value}})}},{key:"render",value:function(){var e=this.props,a=e.showModal,t=e.onCloseModal,n=e.onChangeForm,r=e.onSubmitForm,o=e.headerText,i=e.loading,s=e.error,m=e.employee,c=m.firstName,u=m.lastName,d=m.dateOfBirth,p=m.primaryLanguage,h=m.languagesOptions,g=h.map(function(e){return{text:e,value:e}});return l.a.createElement(R.a,{className:"employee-modal",open:a,onClose:t},l.a.createElement(L.a,{active:i}),l.a.createElement(R.a.Header,null,o),l.a.createElement("div",{className:"employee-modal-container"},l.a.createElement("form",{onSubmit:r},l.a.createElement(q.a,{name:"firstName",placeholder:"First name",label:"First name",defaultValue:c,onChange:n,fluid:!0}),l.a.createElement(q.a,{name:"lastName",placeholder:"Last name",label:"Last name",defaultValue:u,onChange:n,fluid:!0}),l.a.createElement(q.a,{name:"dateOfBirth",placeholder:"Date of birth",label:"Date of birth",defaultValue:d,onChange:n,fluid:!0}),l.a.createElement(q.a,{name:"primaryLanguage",placeholder:"Primary language",label:"Primary language",defaultValue:p,onChange:n,fluid:!0}),l.a.createElement("div",{className:"ui fluid labeled input"},l.a.createElement("div",{className:"ui label label"},"Languages"),l.a.createElement(M.a,{className:"employee-modal-dropdown-languages",placeholder:"Languages",fluid:!0,multiple:!0,selection:!0,onChange:this.handleChangeDropdown,defaultValue:h,options:g})),l.a.createElement(S.a,{className:"employee-modal-apply",type:"submit",primary:!0},"Apply")),s&&l.a.createElement("p",{className:"employee-modal-error"},s)))}}]),a}(l.a.PureComponent)),I=t(90),F=t(91);function H(){var e=Object(I.a)(["\n  mutation removeEmployee($id: String!) {\n    removeEmployee(id: $id) {\n      id\n      firstName\n      lastName\n      dateOfBirth\n      primaryLanguage\n      languages\n    }\n  }\n"]);return H=function(){return e},e}function P(){var e=Object(I.a)(["\n  mutation updateEmployee(\n    $id: String!\n    $firstName: String!\n    $lastName: String!\n    $dateOfBirth: String!\n    $primaryLanguage: String!\n    $languages: [String]!\n  ) {\n    updateEmployee(\n      id: $id\n      firstName: $firstName\n      lastName: $lastName\n      dateOfBirth: $dateOfBirth\n      primaryLanguage: $primaryLanguage\n      languages: $languages\n    ) {\n      id\n      firstName\n      lastName\n      dateOfBirth\n      primaryLanguage\n      languages\n    }\n  }\n"]);return P=function(){return e},e}function V(){var e=Object(I.a)(["\n  mutation createEmployee(\n    $firstName: String!\n    $lastName: String!\n    $dateOfBirth: String!\n    $primaryLanguage: String!\n    $languages: [String]!\n  ) {\n    createEmployee(\n      firstName: $firstName\n      lastName: $lastName\n      dateOfBirth: $dateOfBirth\n      primaryLanguage: $primaryLanguage\n      languages: $languages\n    ) {\n      id\n      firstName\n      lastName\n      dateOfBirth\n      primaryLanguage\n      languages\n    }\n  }\n"]);return V=function(){return e},e}function Q(){var e=Object(I.a)(["\n  {\n    employees {\n      id\n      firstName\n      lastName\n      dateOfBirth\n      primaryLanguage\n      languages\n    }\n  }\n"]);return Q=function(){return e},e}var A=Object(F.gql)(Q()),G=Object(F.gql)(V()),J=Object(F.gql)(P()),T=Object(F.gql)(H()),W=(t(429),{id:"",firstName:"",lastName:"",dateOfBirth:"",primaryLanguage:"",languages:["English","German"],languagesOptions:["English","German"]}),z=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(g.a)(this,Object(f.a)(a).call(this,e))).state={isCreateEmployee:!1,showModal:!1,showConfirmModal:!1,loading:!1,error:null,employee:W},t.handleChange=t.handleChange.bind(Object(k.a)(t)),t.onClickCreateButton=t.onClickCreateButton.bind(Object(k.a)(t)),t.handleRemoveEmployee=t.handleRemoveEmployee.bind(Object(k.a)(t)),t.handleCreateEmployee=t.handleCreateEmployee.bind(Object(k.a)(t)),t.handleCloseModal=t.handleCloseModal.bind(Object(k.a)(t)),t.handleCloseConfirmModal=t.handleCloseConfirmModal.bind(Object(k.a)(t)),t.onClickEditIcon=t.onClickEditIcon.bind(Object(k.a)(t)),t.onClickRemoveIcon=t.onClickRemoveIcon.bind(Object(k.a)(t)),t.handleEditEmployee=t.handleEditEmployee.bind(Object(k.a)(t)),t}return Object(y.a)(a,e),Object(h.a)(a,[{key:"handleCloseModal",value:function(){this.setState({showModal:!1,isCreateEmployee:!1,error:null})}},{key:"handleCloseConfirmModal",value:function(){this.setState({showConfirmModal:!1,error:null})}},{key:"onClickCreateButton",value:function(){this.setState({showModal:!0,isCreateEmployee:!0,employee:W})}},{key:"onClickEditIcon",value:function(e){this.setState({showModal:!0,employee:Object(w.a)({},this.state.employee,e,{languagesOptions:e.languages})})}},{key:"onClickRemoveIcon",value:function(e){this.setState({showConfirmModal:!0,employee:Object(w.a)({},this.state.employee,e,{languagesOptions:e.languages})})}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState({employee:Object(w.a)({},this.state.employee,Object(N.a)({},t,n))})}},{key:"handleRemoveEmployee",value:function(){var e=Object(j.a)(O.a.mark(function e(){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.employee.id,this.setState({loading:!0}),e.prev=2,e.next=5,this.props.removeEmployee({variables:{id:a},update:function(e){var t=e.readQuery({query:A}).employees;e.writeQuery({query:A,data:{employees:t.filter(function(e){return e.id!==a})}})}});case 5:this.setState({loading:!1,showConfirmModal:!1,employee:W}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.setState({loading:!1,error:"Remove employee failed"});case 11:case"end":return e.stop()}},e,this,[[2,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleCreateEmployee",value:function(){var e=Object(j.a)(O.a.mark(function e(a){var t,n,l,r,o,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.employee,n=t.firstName,l=t.lastName,r=t.dateOfBirth,o=t.primaryLanguage,i=t.languages,a.preventDefault(),this.setState({loading:!0}),e.prev=3,e.next=6,this.props.createEmployee({variables:{firstName:n,lastName:l,dateOfBirth:r,primaryLanguage:o,languages:i},update:function(e,a){var t=a.data.createEmployee,n=e.readQuery({query:A}).employees;e.writeQuery({query:A,data:{employees:n.concat([t])}})}});case 6:this.setState({loading:!1,showModal:!1,isCreateEmployee:!1,employee:W}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),this.setState({loading:!1,error:"Create employee failed"});case 12:case"end":return e.stop()}},e,this,[[3,9]])}));return function(a){return e.apply(this,arguments)}}()},{key:"handleEditEmployee",value:function(){var e=Object(j.a)(O.a.mark(function e(a){var t,n,l,r,o,i,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.employee,n=t.id,l=t.firstName,r=t.lastName,o=t.dateOfBirth,i=t.primaryLanguage,s=t.languages,a.preventDefault(),this.setState({loading:!0}),e.prev=3,e.next=6,this.props.updateEmployee({variables:{id:n,firstName:l,lastName:r,dateOfBirth:o,primaryLanguage:i,languages:s}});case 6:this.setState({loading:!1,showModal:!1,employee:W}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),this.setState({loading:!1,error:"Edit employee failed"});case 12:case"end":return e.stop()}},e,this,[[3,9]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.employee,n=a.isCreateEmployee,r=a.showModal,o=a.showConfirmModal,i=a.loading,s=a.error;return l.a.createElement("div",{className:"employees-page"},l.a.createElement(S.a,{className:"employees-page-create-button",onClick:this.onClickCreateButton},"Create"),l.a.createElement(D,{showModal:r,headerText:n?"Create employee":"Edit employee",employee:t,loading:i,error:s,onChangeForm:this.handleChange,onSubmitForm:n?this.handleCreateEmployee:this.handleEditEmployee,onCloseModal:this.handleCloseModal}),l.a.createElement(B.a,{className:"employees-page-confirm-modal",open:o,header:"Are you sure?",content:s,onCancel:this.handleCloseConfirmModal,onConfirm:this.handleRemoveEmployee}),l.a.createElement(m.b,{query:A},function(a){var t=a.loading,n=a.error,r=a.data;return t?l.a.createElement(L.a,{active:t}):n?l.a.createElement("p",null,"Error :("):l.a.createElement($.a,{celled:!0},l.a.createElement($.a.Header,null,l.a.createElement($.a.Row,null,l.a.createElement($.a.HeaderCell,null,"First name"),l.a.createElement($.a.HeaderCell,null,"Last name"),l.a.createElement($.a.HeaderCell,null,"Date of birth"),l.a.createElement($.a.HeaderCell,null,"Primary language"),l.a.createElement($.a.HeaderCell,null,"Languages"),l.a.createElement($.a.HeaderCell,null,"Settings"))),l.a.createElement($.a.Body,null,r.employees.map(function(a){var t=a.languages.map(function(e){return{text:e,value:e}});return l.a.createElement($.a.Row,{key:a.id},l.a.createElement($.a.Cell,null,a.firstName),l.a.createElement($.a.Cell,null,a.lastName),l.a.createElement($.a.Cell,null,a.dateOfBirth),l.a.createElement($.a.Cell,null,a.primaryLanguage),l.a.createElement($.a.Cell,null,l.a.createElement(M.a,{className:"employees-page-dropdown-languages",placeholder:"Languages",fluid:!0,multiple:!0,selection:!0,disabled:!0,defaultValue:a.languages,options:t})),l.a.createElement($.a.Cell,null,l.a.createElement(x.a,{onClick:function(){return e.onClickEditIcon(a)},name:"edit"}),l.a.createElement(x.a,{onClick:function(){return e.onClickRemoveIcon(a)},name:"remove"})))})))}))}}]),a}(l.a.Component),K=Object(m.c)(Object(m.d)(J,{name:"updateEmployee"}),Object(m.d)(T,{name:"removeEmployee"}),Object(m.d)(G,{name:"createEmployee"}))(z),U=function(){return l.a.createElement(E,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:c.path,component:K}),l.a.createElement(i.a,{component:C})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(432),t(433);var X=new s.a({uri:"http://localhost:3001/graphql"});o.a.render(l.a.createElement(m.a,{client:X},l.a.createElement(i.b,{history:d},l.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[263,1,2]]]);
//# sourceMappingURL=main.3c445485.chunk.js.map